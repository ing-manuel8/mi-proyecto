<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Usuarios</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>

<!-- Contenedor principal de usuarios -->
<div class="container">

    <!-- Encabezado con el botón de cerrar sesión y agregar usuario -->
    <div class="header">
        <a href="/usuarios/nuevo" class="button-add">Agregar Usuario</a>
        <a href="/logout" class="button-logout">Cerrar Sesión</a> <!-- Botón de cerrar sesión -->
    </div>

    <% usuarios.forEach((usuario) => { %>
    <div class="card">
        <!-- Mostrar la imagen del usuario -->
        <img src="<%= usuario.imagen ? (usuario.imagen.startsWith('/uploads/') ? usuario.imagen : '/uploads/' + usuario.imagen) : '/uploads/default.png' %>" alt="Imagen de <%= usuario.nombre %>">

        <div class="info">
            <h2><%= usuario.nombre %></h2>
        </div>
        <div class="actions">
            <a href="/usuarios/editar/<%= usuario.id %>" class="edit-btn">Editar</a>
            <form action="/usuarios/eliminar/<%= usuario.id %>" method="post" style="display:inline;">
                <button type="submit" class="delete-btn">Eliminar</button>
            </form>
        </div>
    </div>
    <% }); %>
</div>

<!-- Footer al fondo de la página -->
<footer>
    Gestión de Usuarios &copy; 2024. Todos los derechos reservados.
</footer>

</body>
</html>
